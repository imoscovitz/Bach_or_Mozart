<html>
<head>
    <!--<h1 class="app_name" align="center">Bach or Mozart</h1> -->

    <script src="/static/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">

<body>

  <div class="jumbotron jumbotron-fluid">
    <div class="container">
      <h1 class="display-3">Bach or Mozart</h1>
      <p class="lead">Gotta be one or the other.</p>
    </div>
  </div>


<!--
  <div class="jumbotron text-center" style="margin-bottom:0">
    <h1>Bach or Mozart</h1>
    <p>Gotta be one or the other</p>
  </div>
-->
<!--
  <div class="col-xs-3">
    <form method="POST" action="/predict">
      <input class="form-control form-control-lg" type="text" placeholder=".form-control-lg">
      <input name="text" placeholder="Feed me an audio file">
      <input type="submit">
    </form>
  </div> -->
 <div class="container" style="margin-top:30px">
   <div class="row">
      <div class="col-sm-4">
        <div class="custom-file">
          <form method="POST" action="/predict">
            <input name="text" placeholder="Feed me an audio file">
            <input type="submit">
<!--
      <input type="file" class="custom-file-input" id="customFile" placeholder="Feed me an audio file">
      <label class="custom-file-label" for="customFile">Choose file</label> -->

    </form>
  </div>


  <img width="50%" src='/static/images/notes_question.png' />

  <!--<div class="jumbotron text-center" style="margin-bottom:0">
    Visit my github for the <a href="http://thisismetis.com/"> mtheory</a> module
  </div> -->

</body>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script>

  $('#submit').click( () => { cool(); } );



  function cool(){
    let features = {
      'Pclass': 3,
      'Sex': $('select').val(),
      'Age': 22,
      'SibSp': 1,
      'Parch': 0,
      'Fare': 7.25
    }
    console.log(features);

    $.ajax({
      type: "POST",
      contentType: "application/json; charset=utf-8",
      url: "/predict",  // Replace with URL of POST handler
      dataType: "json",
      async: true,
      data: JSON.stringify(features), // Object or Array you want to pass
      success: (result) => {          // If success, execute this
        $('#hard_predict').html(result['prediction'] ? 'survive' : 'deaded');
        //$('#soft_predict').html(result['prob_survived'] ? 'survive' : 'deaded');
      },
      error: (result) => {
        alert('I dunno what you did');
      }
    });
  }

  </script>

</html>
